# üõéÔ∏è Intercom System Emulator

–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Å–∏—Å—Ç–µ–º—ã –¥–æ–º–æ—Ñ–æ–Ω–∞, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤ –¥–æ–º–æ—Ñ–æ–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π –∏ —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–±—ã—Ç–∏–π.  


---

## üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### üîπ 1. –≠–º—É–ª—è—Ç–æ—Ä –¥–æ–º–æ—Ñ–æ–Ω–∞
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç heartbeat (—Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –¥–≤–µ—Ä–∏)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è:
  - –∑–≤–æ–Ω–æ–∫ –≤ –∫–≤–∞—Ä—Ç–∏—Ä—É
  - –æ—Ç–∫—Ä—ã—Ç–∏–µ –¥–≤–µ—Ä–∏ –ø–æ –∫–ª—é—á—É
- –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–≤–µ—Ä–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ MQTT

### üîπ 2. –°–µ—Ä–≤–µ—Ä —Å–æ–±—ã—Ç–∏–π
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ MQTT
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ PostgreSQL
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ —Å—Ç–∞—Ç—É—Å –¥–æ–º–æ—Ñ–æ–Ω–æ–≤ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å —É–¥–∞–ª—ë–Ω–Ω–æ

---

## üß© –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

| –°—Ü–µ–Ω–∞—Ä–∏–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| Heartbeat | –î–æ–º–æ—Ñ–æ–Ω –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å |
| Offline detection | –ï—Å–ª–∏ –Ω–µ—Ç heartbeat > 2 –º–∏–Ω—É—Ç ‚Äî –¥–æ–º–æ—Ñ–æ–Ω –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω |
| Call event | –°–æ–±—ã—Ç–∏–µ –∑–≤–æ–Ω–∫–∞ –≤ –∫–≤–∞—Ä—Ç–∏—Ä—É |
| Key open | –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–≤–µ—Ä–∏ –ø–æ –∫–ª—é—á—É —Å –Ω–æ–º–µ—Ä–æ–º –∫–≤–∞—Ä—Ç–∏—Ä—ã |
| Server open | –û–ø–µ—Ä–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä—å –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ |


---

# üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

## 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone git@github.com:Ilyas909/intercom-system.git
cd intercom-system
```

## 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Docker
```bash
docker compose up --build -d
```


## 3Ô∏è‚É£  –û—Ç–∫—Ä—ã—Ç—å –ª–æ–≥–∏ —ç–º—É–ª—è—Ç–æ—Ä–∞ –¥–æ–º–æ—Ñ–æ–Ω–æ–≤ 
```bash
cd intercom_emulator
docker logs -f intercom_emulators
```

## 4Ô∏è‚É£ –û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
http://localhost:8000


### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è 4 –¥–æ–º–æ—Ñ–æ–Ω–∞:

AA:BB:CC:01

AA:BB:CC:02

AA:BB:CC:03

AA:BB:CC:04

–û–Ω–∏:

–æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç heartbeat

–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è –∑–≤–æ–Ω–∫–∞

—ç–º—É–ª–∏—Ä—É—é—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ –∫–ª—é—á–æ–º

### –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–≤–µ—Ä–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å" ‚Äî –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ MQTT, –¥–æ–º–æ—Ñ–æ–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ.

### üñºÔ∏è –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã
![img.png](img.png)